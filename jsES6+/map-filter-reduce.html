<script>
    const products = [
        {name:'반팔티', price : 15000},
        {name:'긴팔티', price : 25000},
        {name:'나시티', price : 5000},
        {name:'반바지', price : 10000},
        {name:'긴바지', price : 20000},
        {name:'슬랙스', price : 22000},
    ]
</script>

# map

<script>
    const map = (f,iter) => {
        let res = [];
        for(const a of iter){
            res.push(f(a));
        }
        return res;
    }
    // map 사용 안했을때 
    // let names = [];
    // for(const p of products){
    //     names.push(p.name)
    // }
    // console.log(names);

    console.log(map(p => p.name, products));

    
</script>

#이터러블 프로토콜을 따른 mapp의 다형성

<script>
    //map 함수는 이터러블 프로토콜을 따르는 것을 사용할수있다.
    console.log(map(el => el.nodeName, document.querySelectorAll('*')));
    const it = document.querySelectorAll('*')[Symbol.iterator]();
    console.log(it.next());
    console.log(it.next());
    console.log(it.next());
    console.log(it.next());
    console.log(it.next());


</script>

#filter

<script>
    //명령형 코드
    let under20000 = [];
    for( const p of products){
        if(p.price < 20000) under20000.push(p);
    }
    console.log(under20000);

    // 함수형 코드
    const filter = (f, iter) => {
        let res= [];
        for(const a of iter) {
            if(f(a)) res.push(a);
        }
        return res;
    }
    console.log(...filter(p => p.price < 20000, products)); 
</script>